.jaddClassPath(jarFile)
sampleFile <- 'C:\\ProjectData\\Meygen2022\\AAM\\GLFData\\Drive23\\11-15\\log_2022-11-15-181117.glf';
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
J(mfc, "catalogFiles", as.character(sampleFile))
# read a Tritech sonar data file and plot a frame in R
# install.packages('rJava')
library(rJava)
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:\\ProjectData\\Meygen2022\\AAM\\GLFData\\Drive23\\11-15\\log_2022-11-15-181117.glf';
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
.jcall(mfc, "S", "catalogFiles", as.character(sampleFile))
# read a Tritech sonar data file and plot a frame in R
# install.packages('rJava')
library(rJava)
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:\\ProjectData\\Meygen2022\\AAM\\GLFData\\Drive23\\11-15\\log_2022-11-15-181117.glf';
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
mths = .jmethods(mfc)
#.jcall(mfc, "S", "catalogFiles", as.character(sampleFile))
mths
# read a Tritech sonar data file and plot a frame in R
# install.packages('rJava')
library(rJava)
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:\\ProjectData\\Meygen2022\\AAM\\GLFData\\Drive23\\11-15\\log_2022-11-15-181117.glf';
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
.jmethods(mfc)
#.jcall(mfc, "S", "catalogFiles", as.character(sampleFile))
# read a Tritech sonar data file and plot a frame in R
# install.packages('rJava')
library(rJava)
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:\\ProjectData\\Meygen2022\\AAM\\GLFData\\Drive23\\11-15\\log_2022-11-15-181117.glf';
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
.jmethods(mfc)
.jcall(mfc, "C", "catalogFiles", as.character(sampleFile))
# install.packages('rJava')
library(rJava)
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:\\ProjectData\\Meygen2022\\AAM\\GLFData\\Drive23\\11-15\\log_2022-11-15-181117.glf';
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
.jmethods(mfc)
jFile <- .jnew("java/lang/String", sampleFile)
.jcall(mfc, "C", "catalogFiles", jFile)
# install.packages('rJava')
library(rJava)
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:\\ProjectData\\Meygen2022\\AAM\\GLFData\\Drive23\\11-15\\log_2022-11-15-181117.glf';
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
.jmethods(mfc)
jFile <- .jnew("java/lang/String", sampleFile)
.jcall(mfc, "S", "catalogFiles", jFile)
# read a Tritech sonar data file and plot a frame in R
# install.packages('rJava')
library(rJava)
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:\\ProjectData\\Meygen2022\\AAM\\GLFData\\Drive23\\11-15\\log_2022-11-15-181117.glf';
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
.jmethods(mfc)
jFile <- .jnew("java/lang/String", sampleFile)
J(mfc, "catalogFiles", jFile)
jFile
# read a Tritech sonar data file and plot a frame in R
# install.packages('rJava')
library(rJava)
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
.jmethods(mfc)
jFile <- .jnew("java/lang/String", sampleFile)
J(mfc, "catalogFiles", jFile)
jFile
library(rJava)
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
.jmethods(mfc)
jFile <- .jnew("java/lang/String", sampleFile)
.jcall(mfc, "S", "catalogFiles", jFile)
# read a Tritech sonar data file and plot a frame in R
# install.packages('rJava')
library(rJava)
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
.jmethods(mfc)
jFile <- .jnew("java/lang/String", sampleFile)
.jcall(mfc, "S", "catalogFiles", jFile)
library(rJava)
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
.jmethods(mfc)
jFile[1] <- .jnew("java/lang/String", sampleFile)
# install.packages('rJava')
library(rJava)
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
.jmethods(mfc)
jFile[1] <- .jnew("java/lang/String", sampleFile)
jFile <- .jnew("java/lang/String", sampleFile)
jFiles(1) = jFile
a(1) = 2
a = array(1)
a(1) = 3
a
jFile <- .jnew("java/lang/String", sampleFile)
jFiles = array(jFile)
jFile <- .jnew("java/lang/String", array(sampleFile))
library(rJava)
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
.jmethods(mfc)
jFile <- .jnew("java/lang/String", array(sampleFile))
.jcall(mfc, "[S", "catalogFiles", jFile)
array(sampleFile)
jFile
jFile <- array(.jnew("java/lang/String", array(sampleFile)))
# read a Tritech sonar data file and plot a frame in R
# install.packages('rJava')
library(rJava)
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
.jmethods(mfc)
jFile <- .jnew("java/lang/String", sampleFile)
.jcall(mfc, "[S", "catalogFiles", jFile)
.jclearpath
.jpath
.jclassPath()
.jmethods(mfc)
# read a Tritech sonar data file and plot a frame in R
# install.packages('rJava')
library(rJava)
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
.jmethods(mfc)
jFile <- .jnew("java/lang/String", sampleFile)
.jcall(mfc, "S", "catalogFiles", jFile)
# read a Tritech sonar data file and plot a frame in R
# install.packages('rJava')
library(rJava)
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
.jmethods(mfc)
jFile <- .jnew("java/lang/String", sampleFile)
.jcall(mfc, "S", "catalogFiles", jFile)
library(rJava)
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
.jmethods(mfc)
jFile <- .jnew("java/lang/String", sampleFile)
b <- .jcall(mfc, "S", "catalogFiles", jFile)
jFile
library(rJava)
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
.jmethods(mfc)
jFile <- .jnew("java/lang/String", sampleFile)
b <- .jcall(mfc, "S", "catalogFiles", sampleFile)
library(rJava)
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
.jmethods(mfc)
jFile <- .jnew("java/lang/String", sampleFile)
b <- J(mfc,"catalogFiles", sampleFile)
b
nRec = J(mfc, "getTotalRecords")
nRec
# install.packages('rJava')
library(rJava)
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
sampleFolder <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/';
# Create the multifile catalog for the sngle file, or folder.
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
# print out all the methods in the catalog class to see they are there
.jmethods(mfc)
# catalog a single file, or folder of files.
b <- J(mfc, "catalogFiles", sampleFolder)
nRec <- J(mfc, "getTotalRecords")
nRec
print('total number of records is ',nRec)
help(print)
print('total number of records is ' +nRec)
print('total number of records is %d', nRec)
print('total number of records is %d')
print(paste('total number of records is ', nRec))
print(paste('total number of records is', nRec))
.jmethods(mfc)
aRec = J(mfc, "getRecord", 0)
aRec <- J(mfc, "getRecord", 0)
aRec <- J(mfc, "getRecord", as.integer(0))
aRec
.methods(aRec)
.jmethods(aRec)
aRec <- J(mfc, "getRecord", as.integer(0))
# get the raw data out
raw <- J(aRec, "getShortImageData")
nBeam <- J(aRec, "getnBeam")
nRange <- J(aRec, "getnRange")
nBeam
raw2 = array(raw, dim=c(nBeam, nRange))
raw2
ggplot(raw2)
library(ggplot2)
ggplot(raw2)
# read a Tritech sonar data file and plot a frame in R
# install.packages('rJava')
library(rJava)
library(ggplot2)
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
sampleFolder <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/';
# Create the multifile catalog for the sngle file, or folder.
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
# print out all the methods in the catalog class to see they are there
.jmethods(mfc)
# catalog a single file, or folder of files.
b <- J(mfc, "catalogFiles", sampleFolder)
nRec <- J(mfc, "getTotalRecords")
print(paste('total number of records is', nRec))
# read in the first record
aRec <- J(mfc, "getRecord", as.integer(0))
# get the raw data out
raw <- J(aRec, "getShortImageData")
nBeam <- J(aRec, "getnBeam")
nRange <- J(aRec, "getnRange")
# data come in as a 1D array. Reshape it to 2D.
raw2 <- array(raw, dim=c(nBeam, nRange))
ggplot(raw2)
View(raw2)
raw = as.short(raw)
View(raw2)
image2D(raw2)
library(plot3D)
install.packages("plot3D")
library(plot3D)
image2D(raw2)
fanMake <- .jnew(tritechgemini.imagedata.FanPicksFromData, 4)
fanMake <- .jnew("tritechgemini.imagedata.FanPicksFromData", 4)
fanMake <- .jnew("tritechgemini.imagedata.FanPicksFromData", as.integer(4)
)
fanMake
.jmethods(fanMake)
fanImage <- J(fanMaker, "createFanData", aRec)
fanMaker <- .jnew("tritechgemini.imagedata.FanPicksFromData", as.integer(4))
# now make a fan image from the record we read in
fanImage <- J(fanMaker, "createFanData", aRec)
.jmethods(fanImage)
imageData <- J(fanMaker, "getImageValues")
imageData <- J(fanImage, "getImageValues")
xScale <- J(fanImage, "getMetresPerPixX")
image2D(imageData)
imageData <- J(fanImage, "getImageValues")
xScale <- J(fanImage, "getMetresPerPixX")
# plot it without any scaling
image2D(imageData)
imageData
as.array((imageData))
as.array(imageData)
View(imageData)
as.integer(5)
as.integer(imageData)
convertToR
library("jdx")
install.packages("jxd")
library("jdx")
View(imageData)
dim <- imageData.dimension
dim <- imageData.dimension()
dim <- imageData.dimension()
View(imageData)
imageData.dim
imageData$toArray()
imageData
imageData$length
imageData$length
fanImage <- J(fanMaker, "createFanData", aRec, 1000)
fanImage <- J(fanMaker, "createFanData", aRec, as.integer(1000))
imageData <- J(fanImage, "getImageValues")
xScale <- J(fanImage, "getMetresPerPixX")
imageData$length
imageData(1)
imageData
raw
.jmethods(fanImage)
imageData$length
imageData[1]
imageData[0]
imageData[1000]
imageData[1001]
row <- imageData[1000]
row
nx <- imageData$length
row1 <- imageData[0];
ny <- row1.length
row1
row1 <- imageData[1];
ny <- row1.length
row1$length
View(row1)
imageData[1]
imageData[1]$length
imageData[0]
imageData[0]$toString()
imageData[0]$length
imageData[1]$length
imageData[1][1]
imageData[1][2]
p <-imageData[1][2]
p
View(row1)
View(p)
View(imageData)
imageData[2]
imageData[0]
imageData[1]
row1 <- imageData[1];
View(row1)
View(imageData)
print(imageData)
imageData
row1$length
row1[1]
row1[1]$length
imageData[1][1]
a <- imageData[1][1]
View(a)
im <- array(imageData, dim=c(1000, 578))
a <- as(imageData, "array")
a <- as(imageData, "array", dim=c(1000, 578))
a <- as(imageData, "matrix")
a <- as(imageData, "array")
a <- .jcastToArray(imageData)
a
View(a)
a = .jsimplify(imageData)
a$length
a[1]$length
a[2]$length
a[1][1]
a[1,1]
a = as.list(imageData)
a[1]
a[200]
a[201]
a[207]
imageData[256][400]
imageData[256][400] -> b
b
View(b)
imageData.values
getClass(imageData)
do.call(rbind, lapply(imageData, .jevalArray))
rImage <- do.call(rbind, lapply(imageData, .jevalArray))
View(rImage)
image2D(rImage)
length(rImage)
length(rImage,1)
dimension(rImage)
dim(rImage)
imageDim(1)
imageDim = dim(rImage);
imageDim(1)
imageDim[1]
imageDim[2]
xs = seq(1, imageDim[1])-imageDim[1]/2
zs
xs
xs = (seq(1, imageDim[1])-imageDim[1]/2) *xScale
xs
xs = (seq(1, imageDim[1])-imageDim[1]/2) *xScale
ys = seq(1, imageDim[2]) * xScale;
image2D(rImage, x = xs, y = ys)
# read a Tritech sonar data file and plot a frame in R
# install.packages('rJava')
library(rJava)
library(plot3D)
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
sampleFolder <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/';
# Create the multifile catalog for the sngle file, or folder.
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
# print out all the methods in the catalog class to see they are there
.jmethods(mfc)
# catalog a single file, or folder of files.
b <- J(mfc, "catalogFiles", sampleFolder)
nRec <- J(mfc, "getTotalRecords")
print(paste('total number of records is', nRec))
# read in the first record
aRec <- J(mfc, "getRecord", as.integer(0))
# get the raw data out
raw <- J(aRec, "getShortImageData")
nBeam <- J(aRec, "getnBeam")
nRange <- J(aRec, "getnRange")
# data come in as a 1D array. Reshape it to 2D.
raw2 <- array(raw, dim=c(nBeam, nRange))
image2D(raw2)
# now get a fan image using the FanPicksFromData class
fanMaker <- .jnew("tritechgemini.imagedata.FanPicksFromData", as.integer(4))
# now make a fan image from the record we read in
fanImage <- J(fanMaker, "createFanData", aRec, as.integer(200))
imageData <- J(fanImage, "getImageValues")
# imageData comes back as a 2D array of Java objects and needs to be converted
xScale <- J(fanImage, "getMetresPerPixX")
# plot it without any scaling
# need to convert the type I think
rImage <- do.call(rbind, lapply(imageData, .jevalArray))
# get the image dimensions
imageDim = dim(rImage);
# create the scales
xs = (seq(1, imageDim[1])-imageDim[1]/2) *xScale
ys = seq(1, imageDim[2]) * xScale;
# plot it
image2D(rImage, x = xs, y = ys)
# read a Tritech sonar data file and plot a frame in R
# install.packages('rJava')
library(rJava)
library(plot3D)
# initialise Java and add the jar library
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
sampleFolder <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/';
# Create the multifile catalog for the single file, or folder.
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
# print out all the methods in the catalog class to see they are there
.jmethods(mfc)
# catalog a single file, or folder of files.
b <- J(mfc, "catalogFiles", sampleFolder)
nRec <- J(mfc, "getTotalRecords")
print(paste('total number of records is', nRec))
# read in the first record
aRec <- J(mfc, "getRecord", as.integer(0))
# get the raw data out
raw <- J(aRec, "getShortImageData")
nBeam <- J(aRec, "getnBeam")
nRange <- J(aRec, "getnRange")
# data come in as a 1D array. Reshape it to 2D.
raw2 <- array(raw, dim=c(nBeam, nRange))
image2D(raw2)
# now get a fan image using the FanPicksFromData class
fanMaker <- .jnew("tritechgemini.imagedata.FanPicksFromData", as.integer(4))
# now make a fan image from the record we read in
fanImage <- J(fanMaker, "createFanData", aRec, as.integer(200))
imageData <- J(fanImage, "getImageValues")
# imageData comes back as a 2D array of Java objects and needs to be converted
xScale <- J(fanImage, "getMetresPerPixX")
# plot it without any scaling
# need to convert the type. This works found at
# https://stackoverflow.com/questions/17556910/accessing-data-from-java-object-in-rjava
rImage <- do.call(rbind, lapply(imageData, .jevalArray))
# get the image dimensions
imageDim = dim(rImage);
# create the scales
xs = (seq(1, imageDim[1])-imageDim[1]/2) *xScale
ys = seq(1, imageDim[2]) * xScale;
# plot it
image2D(rImage, x = xs, y = ys)
