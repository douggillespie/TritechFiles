raw
.jmethods(fanImage)
imageData$length
imageData[1]
imageData[0]
imageData[1000]
imageData[1001]
row <- imageData[1000]
row
nx <- imageData$length
row1 <- imageData[0];
ny <- row1.length
row1
row1 <- imageData[1];
ny <- row1.length
row1$length
View(row1)
imageData[1]
imageData[1]$length
imageData[0]
imageData[0]$toString()
imageData[0]$length
imageData[1]$length
imageData[1][1]
imageData[1][2]
p <-imageData[1][2]
p
View(row1)
View(p)
View(imageData)
imageData[2]
imageData[0]
imageData[1]
row1 <- imageData[1];
View(row1)
View(imageData)
print(imageData)
imageData
row1$length
row1[1]
row1[1]$length
imageData[1][1]
a <- imageData[1][1]
View(a)
im <- array(imageData, dim=c(1000, 578))
a <- as(imageData, "array")
a <- as(imageData, "array", dim=c(1000, 578))
a <- as(imageData, "matrix")
a <- as(imageData, "array")
a <- .jcastToArray(imageData)
a
View(a)
a = .jsimplify(imageData)
a$length
a[1]$length
a[2]$length
a[1][1]
a[1,1]
a = as.list(imageData)
a[1]
a[200]
a[201]
a[207]
imageData[256][400]
imageData[256][400] -> b
b
View(b)
imageData.values
getClass(imageData)
do.call(rbind, lapply(imageData, .jevalArray))
rImage <- do.call(rbind, lapply(imageData, .jevalArray))
View(rImage)
image2D(rImage)
length(rImage)
length(rImage,1)
dimension(rImage)
dim(rImage)
imageDim(1)
imageDim = dim(rImage);
imageDim(1)
imageDim[1]
imageDim[2]
xs = seq(1, imageDim[1])-imageDim[1]/2
zs
xs
xs = (seq(1, imageDim[1])-imageDim[1]/2) *xScale
xs
xs = (seq(1, imageDim[1])-imageDim[1]/2) *xScale
ys = seq(1, imageDim[2]) * xScale;
image2D(rImage, x = xs, y = ys)
# read a Tritech sonar data file and plot a frame in R
# install.packages('rJava')
library(rJava)
library(plot3D)
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
sampleFolder <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/';
# Create the multifile catalog for the sngle file, or folder.
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
# print out all the methods in the catalog class to see they are there
.jmethods(mfc)
# catalog a single file, or folder of files.
b <- J(mfc, "catalogFiles", sampleFolder)
nRec <- J(mfc, "getTotalRecords")
print(paste('total number of records is', nRec))
# read in the first record
aRec <- J(mfc, "getRecord", as.integer(0))
# get the raw data out
raw <- J(aRec, "getShortImageData")
nBeam <- J(aRec, "getnBeam")
nRange <- J(aRec, "getnRange")
# data come in as a 1D array. Reshape it to 2D.
raw2 <- array(raw, dim=c(nBeam, nRange))
image2D(raw2)
# now get a fan image using the FanPicksFromData class
fanMaker <- .jnew("tritechgemini.imagedata.FanPicksFromData", as.integer(4))
# now make a fan image from the record we read in
fanImage <- J(fanMaker, "createFanData", aRec, as.integer(200))
imageData <- J(fanImage, "getImageValues")
# imageData comes back as a 2D array of Java objects and needs to be converted
xScale <- J(fanImage, "getMetresPerPixX")
# plot it without any scaling
# need to convert the type I think
rImage <- do.call(rbind, lapply(imageData, .jevalArray))
# get the image dimensions
imageDim = dim(rImage);
# create the scales
xs = (seq(1, imageDim[1])-imageDim[1]/2) *xScale
ys = seq(1, imageDim[2]) * xScale;
# plot it
image2D(rImage, x = xs, y = ys)
# read a Tritech sonar data file and plot a frame in R
# install.packages('rJava')
library(rJava)
library(plot3D)
# initialise Java and add the jar library
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
sampleFolder <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/';
# Create the multifile catalog for the single file, or folder.
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
# print out all the methods in the catalog class to see they are there
.jmethods(mfc)
# catalog a single file, or folder of files.
b <- J(mfc, "catalogFiles", sampleFolder)
nRec <- J(mfc, "getTotalRecords")
print(paste('total number of records is', nRec))
# read in the first record
aRec <- J(mfc, "getRecord", as.integer(0))
# get the raw data out
raw <- J(aRec, "getShortImageData")
nBeam <- J(aRec, "getnBeam")
nRange <- J(aRec, "getnRange")
# data come in as a 1D array. Reshape it to 2D.
raw2 <- array(raw, dim=c(nBeam, nRange))
image2D(raw2)
# now get a fan image using the FanPicksFromData class
fanMaker <- .jnew("tritechgemini.imagedata.FanPicksFromData", as.integer(4))
# now make a fan image from the record we read in
fanImage <- J(fanMaker, "createFanData", aRec, as.integer(200))
imageData <- J(fanImage, "getImageValues")
# imageData comes back as a 2D array of Java objects and needs to be converted
xScale <- J(fanImage, "getMetresPerPixX")
# plot it without any scaling
# need to convert the type. This works found at
# https://stackoverflow.com/questions/17556910/accessing-data-from-java-object-in-rjava
rImage <- do.call(rbind, lapply(imageData, .jevalArray))
# get the image dimensions
imageDim = dim(rImage);
# create the scales
xs = (seq(1, imageDim[1])-imageDim[1]/2) *xScale
ys = seq(1, imageDim[2]) * xScale;
# plot it
image2D(rImage, x = xs, y = ys)
# plot it
image2D(rImage, x = xs, y = ys)
# read a Tritech sonar data file and plot a frame in R
# install.packages('rJava')
library(rJava)
library(plot3D)
# initialise Java and add the jar library
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
sampleFolder <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/';
# Create the multifile catalog for the single file, or folder.
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
# print out all the methods in the catalog class to see they are there
.jmethods(mfc)
# catalog a single file, or folder of files.
b <- J(mfc, "catalogFiles", sampleFolder)
nRec <- J(mfc, "getTotalRecords")
print(paste('total number of records is', nRec))
# now create the FanPicksFromData object used to transform images.
fanMaker <- .jnew("tritechgemini.imagedata.FanPicksFromData", as.integer(4))
# read in the first record.If looping through records, you'd start your loop here
aRec <- J(mfc, "getRecord", as.integer(0))
# get the raw data out
raw <- J(aRec, "getShortImageData")
nBeam <- J(aRec, "getnBeam")
nRange <- J(aRec, "getnRange")
# data come in as a 1D array. Reshape it to 2D.
raw2 <- array(raw, dim=c(nBeam, nRange))
image2D(raw2)
# now make a fan image from the record we read in to be 500 pixels wide (quite small)
fanImage <- J(fanMaker, "createFanData", aRec, as.integer(500))
imageData <- J(fanImage, "getImageValues")
# imageData comes back as a 2D array of Java objects and needs to be converted
# This works as found at https://stackoverflow.com/questions/17556910/accessing-data-from-java-object-in-rjava
rImage <- do.call(rbind, lapply(imageData, .jevalArray))
# get the image dimensions
imageDim = dim(rImage);
# create the scales, should be the same in x and y
xScale <- J(fanImage, "getMetresPerPixX")
xs = (seq(1, imageDim[1])-imageDim[1]/2) *xScale
ys = seq(1, imageDim[2]) * xScale;
# plot it
image2D(rImage, x = xs, y = ys)
# read a Tritech sonar data file and plot a frame in R
# install.packages('rJava')
library(rJava)
library(plot3D)
# initialise Java and add the jar library
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
sampleFolder <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/';
# Create the multifile catalog for the single file, or folder.
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
# print out all the methods in the catalog class to see they are there
.jmethods(mfc)
# catalog a single file, or folder of files.
b <- J(mfc, "catalogFiles", sampleFolder)
nRec <- J(mfc, "getTotalRecords")
print(paste('total number of records is', nRec))
# now create the FanPicksFromData object used to transform images.
fanMaker <- .jnew("tritechgemini.imagedata.FanPicksFromData", as.integer(4))
# read in the first record.If looping through records, you'd start your loop here
aRec <- J(mfc, "getRecord", as.integer(0))
# get the raw data out
raw <- J(aRec, "getShortImageData")
nBeam <- J(aRec, "getnBeam")
nRange <- J(aRec, "getnRange")
# data come in as a 1D array. Reshape it to 2D.
raw2 <- array(raw, dim=c(nBeam, nRange))
image2D(raw2)
# now make a fan image from the record we read in to be 500 pixels wide (quite small)
fanImage <- J(fanMaker, "createFanData", aRec, as.integer(500))
imageData <- J(fanImage, "getImageValues")
# now free the image data in the record, or you'll run out of memory
# after a few thousand records.
J(aRec, "freeImageData")
# imageData comes back as a 2D array of Java objects and needs to be converted
# This works as found at https://stackoverflow.com/questions/17556910/accessing-data-from-java-object-in-rjava
rImage <- do.call(rbind, lapply(imageData, .jevalArray))
# get the image dimensions
imageDim = dim(rImage);
# create the scales, should be the same in x and y
xScale <- J(fanImage, "getMetresPerPixX")
xs = (seq(1, imageDim[1])-imageDim[1]/2) *xScale
ys = seq(1, imageDim[2]) * xScale;
# plot it
image2D(rImage, x = xs, y = ys)
# read a Tritech sonar data file and plot a frame in R
# install.packages('rJava')
library(rJava)
library(plot3D)
# initialise Java and add the jar library
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
sampleFolder <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/';
# Create the multifile catalog for the single file, or folder.
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
# print out all the methods in the catalog class to see they are there
.jmethods(mfc)
# catalog a single file, or folder of files.
b <- J(mfc, "catalogFiles", sampleFolder)
nRec <- J(mfc, "getTotalRecords")
print(paste('total number of records is', nRec))
# now create the FanPicksFromData object used to transform images.
fanMaker <- .jnew("tritechgemini.imagedata.FanPicksFromData", as.integer(4))
# read in the first record.If looping through records, you'd start your loop here
aRec <- J(mfc, "getRecord", as.integer(0))
# get the raw data out
raw <- J(aRec, "getShortImageData")
nBeam <- J(aRec, "getnBeam")
nRange <- J(aRec, "getnRange")
# data come in as a 1D array. Reshape it to 2D.
raw2 <- array(raw, dim=c(nBeam, nRange))
par(mfrow = c(1, 2))
image2D(raw2)
# now make a fan image from the record we read in to be 500 pixels wide (quite small)
fanImage <- J(fanMaker, "createFanData", aRec, as.integer(500))
imageData <- J(fanImage, "getImageValues")
# now free the image data in the record, or you'll run out of memory
# after a few thousand records.
J(aRec, "freeImageData")
# imageData comes back as a 2D array of Java objects and needs to be converted
# This works as found at https://stackoverflow.com/questions/17556910/accessing-data-from-java-object-in-rjava
rImage <- do.call(rbind, lapply(imageData, .jevalArray))
# get the image dimensions
imageDim = dim(rImage);
# create the scales, should be the same in x and y
xScale <- J(fanImage, "getMetresPerPixX")
xs = (seq(1, imageDim[1])-imageDim[1]/2) *xScale
ys = seq(1, imageDim[2]) * xScale;
# plot it
image2D(rImage, x = xs, y = ys)
# read a Tritech sonar data file and plot a frame in R
# install.packages('rJava')
library(rJava)
library(plot3D)
# initialise Java and add the jar library
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
sampleFolder <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/';
# Create the multifile catalog for the single file, or folder.
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
# print out all the methods in the catalog class to see they are there
.jmethods(mfc)
# catalog a single file, or folder of files.
b <- J(mfc, "catalogFiles", sampleFolder)
nRec <- J(mfc, "getTotalRecords")
print(paste('total number of records is', nRec))
# now create the FanPicksFromData object used to transform images.
fanMaker <- .jnew("tritechgemini.imagedata.FanPicksFromData", as.integer(4))
# read in the first record.If looping through records, you'd start your loop here
aRec <- J(mfc, "getRecord", as.integer(0))
# get the raw data out
raw <- J(aRec, "getShortImageData")
nBeam <- J(aRec, "getnBeam")
nRange <- J(aRec, "getnRange")
# data come in as a 1D array. Reshape it to 2D.
raw2 <- array(raw, dim=c(nBeam, nRange))
plot.new()
image2D(raw2)
# now make a fan image from the record we read in to be 500 pixels wide (quite small)
fanImage <- J(fanMaker, "createFanData", aRec, as.integer(500))
imageData <- J(fanImage, "getImageValues")
# now free the image data in the record, or you'll run out of memory
# after a few thousand records.
J(aRec, "freeImageData")
# imageData comes back as a 2D array of Java objects and needs to be converted
# This works as found at https://stackoverflow.com/questions/17556910/accessing-data-from-java-object-in-rjava
rImage <- do.call(rbind, lapply(imageData, .jevalArray))
# get the image dimensions
imageDim = dim(rImage);
# create the scales, should be the same in x and y
xScale <- J(fanImage, "getMetresPerPixX")
xs = (seq(1, imageDim[1])-imageDim[1]/2) *xScale
ys = seq(1, imageDim[2]) * xScale;
# plot it
plot.new()
image2D(rImage, x = xs, y = ys)
par(mfrow=c(1,1))
plot.new()
image2D(rImage, x = xs, y = ys)
# read a Tritech sonar data file and plot a frame in R
# install.packages('rJava')
library(rJava)
library(plot3D)
# initialise Java and add the jar library
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
sampleFolder <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/';
# Create the multifile catalog for the single file, or folder.
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
# print out all the methods in the catalog class to see they are there
.jmethods(mfc)
# catalog a single file, or folder of files.
b <- J(mfc, "catalogFiles", sampleFolder)
nRec <- J(mfc, "getTotalRecords")
print(paste('total number of records is', nRec))
# now create the FanPicksFromData object used to transform images.
fanMaker <- .jnew("tritechgemini.imagedata.FanPicksFromData", as.integer(4))
# read in the first record.If looping through records, you'd start your loop here
aRec <- J(mfc, "getRecord", as.integer(0))
# get the raw data out
raw <- J(aRec, "getShortImageData")
nBeam <- J(aRec, "getnBeam")
nRange <- J(aRec, "getnRange")
# data come in as a 1D array. Reshape it to 2D.
raw2 <- array(raw, dim=c(nBeam, nRange))
plot.new()
image2D(raw2)
# now make a fan image from the record we read in to be 500 pixels wide (quite small)
fanImage <- J(fanMaker, "createFanData", aRec, as.integer(500))
imageData <- J(fanImage, "getImageValues")
# now free the image data in the record, or you'll run out of memory
# after a few thousand records.
J(aRec, "freeImageData")
# imageData comes back as a 2D array of Java objects and needs to be converted
# This works as found at https://stackoverflow.com/questions/17556910/accessing-data-from-java-object-in-rjava
rImage <- do.call(rbind, lapply(imageData, .jevalArray))
# get the image dimensions
imageDim = dim(rImage);
# create the scales, should be the same in x and y
xScale <- J(fanImage, "getMetresPerPixX")
xs = (seq(1, imageDim[1])-imageDim[1]/2) *xScale
ys = seq(1, imageDim[2]) * xScale;
# plot it
plot.new()
image2D(rImage, x = xs, y = ys)
image2D(rImage, x = xs, y = ys, main="Fan Image")
# read a Tritech sonar data file and plot a frame in R
# install.packages('rJava')
library(rJava)
library(plot3D)
# initialise Java and add the jar library
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
sampleFolder <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/';
# Create the multifile catalog for the single file, or folder.
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
# print out all the methods in the catalog class to see they are there
.jmethods(mfc)
# catalog a single file, or folder of files.
b <- J(mfc, "catalogFiles", sampleFolder)
nRec <- J(mfc, "getTotalRecords")
print(paste('total number of records is', nRec))
# now create the FanPicksFromData object used to transform images.
fanMaker <- .jnew("tritechgemini.imagedata.FanPicksFromData", as.integer(4))
# read in the first record.If looping through records, you'd start your loop here
aRec <- J(mfc, "getRecord", as.integer(0))
# get the raw data out
raw <- J(aRec, "getShortImageData")
nBeam <- J(aRec, "getnBeam")
nRange <- J(aRec, "getnRange")
# data come in as a 1D array. Reshape it to 2D.
raw2 <- array(raw, dim=c(nBeam, nRange))
plot.new()
image2D(raw2, main="Raw image")
# now make a fan image from the record we read in to be 500 pixels wide (quite small)
fanImage <- J(fanMaker, "createFanData", aRec, as.integer(500))
imageData <- J(fanImage, "getImageValues")
# now free the image data in the record, or you'll run out of memory
# after a few thousand records.
J(aRec, "freeImageData")
# imageData comes back as a 2D array of Java objects and needs to be converted
# This works as found at https://stackoverflow.com/questions/17556910/accessing-data-from-java-object-in-rjava
rImage <- do.call(rbind, lapply(imageData, .jevalArray))
# get the image dimensions
imageDim = dim(rImage);
# create the scales, should be the same in x and y
xScale <- J(fanImage, "getMetresPerPixX")
xs = (seq(1, imageDim[1])-imageDim[1]/2) *xScale
ys = seq(1, imageDim[2]) * xScale;
# plot it
plot.new()
image2D(rImage, x = xs, y = ys, main="Fan Image")
# read a Tritech sonar data file and plot a frame in R
# install.packages('rJava')
library(rJava)
library(plot3D)
# initialise Java and add the jar library
.jinit()
jarFile <- 'C:\\Users\\dg50\\source\\repos\\TritechFiles\\TritechFilesV0102.jar';
.jaddClassPath(jarFile)
sampleFile <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/log_2022-11-15-181117.glf';
sampleFolder <- 'C:/ProjectData/Meygen2022/AAM/GLFData/Drive23/11-15/';
# Create the multifile catalog for the single file, or folder.
mfc <- .jnew("tritechgemini.fileio.MultiFileCatalog")
# print out all the methods in the catalog class to see they are there
.jmethods(mfc)
# catalog a single file, or folder of files.
b <- J(mfc, "catalogFiles", sampleFolder)
nRec <- J(mfc, "getTotalRecords")
print(paste('total number of records is', nRec))
# now create the FanPicksFromData object used to transform images.
fanMaker <- .jnew("tritechgemini.imagedata.FanPicksFromData", as.integer(4))
# read in the first record.If looping through records, you'd start your loop here
aRec <- J(mfc, "getRecord", as.integer(0))
# get the raw data out
raw <- J(aRec, "getShortImageData")
nBeam <- J(aRec, "getnBeam")
nRange <- J(aRec, "getnRange")
# data come in as a 1D array. Reshape it to 2D.
raw2 <- array(raw, dim=c(nBeam, nRange))
plot.new()
image2D(raw2, main="Raw image", xlab="Beam", ylab="Range")
# now make a fan image from the record we read in to be 500 pixels wide (quite small)
fanImage <- J(fanMaker, "createFanData", aRec, as.integer(500))
imageData <- J(fanImage, "getImageValues")
# now free the image data in the record, or you'll run out of memory
# after a few thousand records.
J(aRec, "freeImageData")
# imageData comes back as a 2D array of Java objects and needs to be converted
# This works as found at https://stackoverflow.com/questions/17556910/accessing-data-from-java-object-in-rjava
rImage <- do.call(rbind, lapply(imageData, .jevalArray))
# get the image dimensions
imageDim = dim(rImage);
# create the scales, should be the same in x and y
xScale <- J(fanImage, "getMetresPerPixX")
xs = (seq(1, imageDim[1])-imageDim[1]/2) *xScale
ys = seq(1, imageDim[2]) * xScale;
# plot it
plot.new()
image2D(rImage, x = xs, y = ys, main="Fan Image", xlab="(m)", ylab="(m)")
